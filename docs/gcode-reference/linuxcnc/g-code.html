

<!DOCTYPE html>
<html class="writer-html5" lang="zh" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G Codes &mdash; cnc reference 0.1.0 文档</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/PythonicGcodeMachine.css?v=f6519d23" />

  
    <link rel="canonical" href="https://cnc.caigk.com/gcode-reference/linuxcnc/g-code.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=74157ad4"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/getthecode.js"></script>
      <script src="../../_static/matomo.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            cnc reference
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../rs-274/index.html">1. RS-274 G-code Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#history">1.1. History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#overview">1.2. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#language-view-of-a-machining-center">1.3. Language View of a Machining Center</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#parameters">1.3.1. Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#coordinate-systems">1.3.2. Coordinate Systems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#format-of-a-line">1.4. Format of a Line</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#line-number">1.4.1. Line Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#word">1.4.2. Word</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#number">1.4.3. Number</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#parameter-value">1.4.4. Parameter Value</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#expressions-and-binary-operations">1.4.5. Expressions and Binary Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#unary-operation-value">1.4.6. Unary Operation Value</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#parameter-setting">1.4.7. Parameter Setting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#comments-and-messages">1.4.8. Comments and Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#item-repeats">1.4.9. Item Repeats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#item-order">1.4.10. Item order</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rs-274/index.html#commands-and-machine-modes">1.4.11. Commands and Machine Modes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#modal-groups">1.5. Modal Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#g-and-input-codes">1.6. G and Input Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rs-274/index.html#order-of-execution">1.7. Order of Execution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../test.html">2. 1</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../test.html#id2">2.1. 2</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">cnc reference</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">G Codes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/gcode-reference/linuxcnc/g-code.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="g-codes">
<h1>G Codes<a class="headerlink" href="#g-codes" title="Link to this heading"></a></h1>
<section id="conventions">
<h2>Conventions<a class="headerlink" href="#conventions" title="Link to this heading"></a></h2>
<p>Conventions used in this section</p>
<p>In the G code prototypes the hyphen ('-') stands for a real value and ('&lt;&gt;') denotes an optional
item.</p>
<p>If 'L-' is written in a prototype the '-' will often be referred to as the 'L number', and so on for
any other letter.</p>
<p>In the G code prototypes the word 'axes' stands for any axis as defined in your configuration.</p>
<p>An optional value will be written like this '&lt;L→'.</p>
<p>A real value may be:</p>
<ul class="simple">
<li><p>An explicit number, '4'</p></li>
<li><p>An expression, '[2+2]'</p></li>
<li><p>A parameter value, '#88'</p></li>
<li><p>A unary function value, 'acos[0]'</p></li>
</ul>
<p>In most cases, if 'axis' words are given (any or all of 'X Y Z A B C U V W'), they specify a
destination point.</p>
<p>Axis numbers are in the currently active coordinate system, unless explicitly described as being in
the absolute coordinate system.</p>
<p>Where axis words are optional, any omitted axes will retain their original value.</p>
<p>Any items in the G code prototypes not explicitly described as optional are required.</p>
<p>The values following letters are often given as explicit numbers. Unless stated otherwise, the
explicit numbers can be real values. For example, 'G10 L2' could equally well be written 'G[2*5]
L[1+1]'. If the value of parameter 100 were 2, 'G10 L#100' would also mean the same.</p>
<p>If 'L-' is written in a prototype the '-' will often be referred to as the 'L number', and so on for
any other letter.</p>
</section>
<section id="g-code-quick-reference-table">
<h2>G Code Quick Reference Table<a class="headerlink" href="#g-code-quick-reference-table" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="gcode_g0">G0</a></p></td>
<td><p>Coordinated Motion at Rapid Rate</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g1">G1</a></p></td>
<td><p>Coordinated Motion at Feed Rate</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g2-g3">G2 G3</a></p></td>
<td><p>Coordinated Helical Motion at Feed Rate</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g4">G4</a></p></td>
<td><p>Dwell</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g5">G5</a></p></td>
<td><p>Cubic Spline</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g5.1">G5.1</a></p></td>
<td><p>Quadratic B-Spline</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g5.2-g5.3">G5.2,G5.3</a></p></td>
<td><p>NURBS, add control point</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g7">G7</a></p></td>
<td><p>Diameter Mode (lathe)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g8">G8</a></p></td>
<td><p>Radius Mode (lathe)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g10-l1">G10 L1</a></p></td>
<td><p>Set Tool Table Entry</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g10-l10">G10 L10</a></p></td>
<td><p>Set Tool Table, Calculated, Workpiece</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g10-l11">G10 L11</a></p></td>
<td><p>Set Tool Table, Calculated, Fixture</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g10-l2">G10 L2</a></p></td>
<td><p>Coordinate System Origin Setting</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g10-l20">G10 L20</a></p></td>
<td><p>Coordinate System Origin Setting Calculated</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g17-g19.1">G17 - G19.1</a></p></td>
<td><p>Plane Select</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g20-g21">G20 G21</a></p></td>
<td><p>Set Units of Measure</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g28-g28.1">G28 - G28.1</a></p></td>
<td><p>Go to Predefined Position</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g30-g30.1">G30 - G30.1</a></p></td>
<td><p>Go to Predefined Position</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g33">G33</a></p></td>
<td><p>Spindle Synchronized Motion</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g33.1">G33.1</a></p></td>
<td><p>Rigid Tapping</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g38">G38.2 - G38.5</a></p></td>
<td><p>Probing</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g40">G40</a></p></td>
<td><p>Cancel Cutter Compensation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g41-g42">G41 G42</a></p></td>
<td><p>Cutter Compensation</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g41.1-g42.1">G41.1 G42.1</a></p></td>
<td><p>Dynamic Cutter Compensation</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g43">G43</a></p></td>
<td><p>Use Tool Length Offset from Tool Table</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g43.1">G43.1</a></p></td>
<td><p>Dynamic Tool Length Offset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g43.2">G43.2</a></p></td>
<td><p>Apply additional Tool Length Offset</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g49">G49</a></p></td>
<td><p>Cancel Tool Length Offset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g53">G53</a></p></td>
<td><p>Move in Machine Coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g54-g59.3">G54-G59.3</a></p></td>
<td><p>Select Coordinate System (1 - 9)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g61-g61.1">G61 G61.1</a></p></td>
<td><p>Path Control Mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g64">G64</a></p></td>
<td><p>Path Control Mode with Optional Tolerance</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g73">G73</a></p></td>
<td><p>Drilling Cycle with Chip Breaking</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g74">G74</a></p></td>
<td><p>Left-hand Tapping Cycle with Dwell</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g76">G76</a></p></td>
<td><p>Multi-pass Threading Cycle (Lathe)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g80">G80</a></p></td>
<td><p>Cancel Motion Modes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g81">G81</a></p></td>
<td><p>Drilling Cycle</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g82">G82</a></p></td>
<td><p>Drilling Cycle with Dwell</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g83">G83</a></p></td>
<td><p>Drilling Cycle with Peck</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g84">G84</a></p></td>
<td><p>Right-hand Tapping Cycle with Dwell</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g85">G85</a></p></td>
<td><p>Boring Cycle, No Dwell, Feed Out</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g86">G86</a></p></td>
<td><p>Boring Cycle, Stop, Rapid Out</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g89">G89</a></p></td>
<td><p>Boring Cycle, Dwell, Feed Out</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g90-g91">G90 G91</a></p></td>
<td><p>Distance Mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g90.1-g91.1">G90.1 G91.1</a></p></td>
<td><p>Arc Distance Mode</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g92">G92</a></p></td>
<td><p>Coordinate System Offset</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g92.1-g92.2">G92.1 G92.2</a></p></td>
<td><p>Cancel G92 Offsets</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g92.3">G92.3</a></p></td>
<td><p>Restore G92 Offsets</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g93-g94-g95">G93 G94 G95</a></p></td>
<td><p>Feed Modes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#gcode:g96-g97">G96</a></p></td>
<td><p>Spindle Control Mode</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#gcode:g98-g99">G98 G99</a></p></td>
<td><p>Canned Cycle Z Retract Mode</p></td>
</tr>
</tbody>
</table>
</section>
<section id="g0-rapid-move">
<h2>G0 Rapid Move<a class="headerlink" href="#g0-rapid-move" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 axes
</pre></div>
</div>
<p>For rapid motion, program 'G0 axes', where all the axis words are optional. The 'G0' is optional if
the current motion mode is 'G0'. This will produce coordinated motion to the destination point at
the maximum rapid rate (or slower). 'G0' is typically used as a positioning move.</p>
<section id="rapid-velocity-rate">
<h3>Rapid Velocity Rate<a class="headerlink" href="#rapid-velocity-rate" title="Link to this heading"></a></h3>
<p>The MAX_VELOCITY setting in the ini file [TRAJ] section defines the maximum rapid traverse rate. The
maximum rapid traverse rate can be higher than the individual axes MAX_VELOCITY setting during a
coordinated move. The maximum rapid traverse rate can be slower than the MAX_VELOCITY setting in the
[TRAJ] section if an axis MAX_VELOCITY or trajectory constraints limit it.</p>
<p>G0 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute distance mode)
G0 X1 Y-2.3 (Rapid linear move from current location to X1 Y-2.3)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><p>See <a class="reference external" href="#gcode:g90-g91">G90</a> &amp; <a class="reference external" href="#mcode:m2-m30">M2</a> sections for more information.</p></li>
</ul>
<p>If cutter compensation is active, the motion will differ from the above; see the <a class="reference external" href="#sec:cutter-compensation">Cutter
Compensation</a> Section.</p>
<p>If 'G53' is programmed on the same line, the motion will also differ; see the <a class="reference external" href="#gcode:g53">G53</a>
Section for more information.</p>
<p>The path of a G0 rapid motion can be rounded at direction changes and depends on the <a class="reference external" href="#sec:trajectory-control">trajectory
control</a> settings and maximum acceleration of the axes.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>An axis letter is without a real value.</p></li>
<li><p>An axis letter is used that is not configured</p></li>
</ul>
</section>
</section>
<section id="g1-linear-move">
<h2>G1 Linear Move<a class="headerlink" href="#g1-linear-move" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G1 axes
</pre></div>
</div>
<p>For linear (straight line) motion at programed <a class="reference external" href="#sec:set-feed-rate">feed rate</a> (for cutting or
not), program 'G1 'axes'', where all the axis words are optional. The 'G1' is optional if the
current motion mode is 'G1'. This will produce coordinated motion to the destination point at the
current feed rate (or slower).</p>
<p>G1 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute distance mode)
G1 X1.2 Y-3 F10 (linear move at a feed rate of 10 from current position to X1.2 Y-3)
Z-2.3 (linear move at same feed rate from current position to Z-2.3)
Z1 F25 (linear move at a feed rate of 25 from current position to Z1)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>See <a class="reference external" href="#gcode:g90-g91">G90</a> &amp; <a class="reference external" href="#sec:set-feed-rate">F</a> &amp;</dt><dd><p><a class="reference external" href="#mcode:m2-m30">M2</a> sections for more information.</p>
</dd>
</dl>
</li>
</ul>
<p>If cutter compensation is active, the motion will differ from the above; see the <a class="reference external" href="#sec:cutter-compensation">Cutter
Compensation</a> Section.</p>
<p>If 'G53' is programmed on the same line, the motion will also differ; see the <a class="reference external" href="#gcode:g53">G53</a>
Section for more information.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>No feed rate has been set.</p></li>
<li><p>An axis letter is without a real value.</p></li>
<li><p>An axis letter is used that is not configured</p></li>
</ul>
</section>
<section id="g2-g3-arc-move">
<h2>G2, G3 Arc Move<a class="headerlink" href="#g2-g3-arc-move" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G2 or G3 axes offsets (center format)
G2 or G3 axes R- (radius format)
G2 or G3 offsets|R- &lt;P-&gt; (full circles)
</pre></div>
</div>
<p>A circular or helical arc is specified using either 'G2' (clockwise arc) or 'G3' (counterclockwise
arc) at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a>. The direction (CW, CCW) is as viewed from
the positive end of the axis about which the circular motion occurs.</p>
<p>The axis of the circle or helix must be parallel to the X, Y, or Z axis of the machine coordinate
system. The axis (or, equivalently, the plane perpendicular to the axis) is selected with 'G17'
(Z-axis, XY-plane), 'G18' (Y-axis, XZ-plane), or 'G19' (X-axis, YZ-plane). Planes '17.1', '18.1',
and '19.1' are not currently supported. If the arc is circular, it lies in a plane parallel to the
selected plane.</p>
<p>To program a helix, include the axis word perpendicular to the arc plane: for example, if in the
'G17' plane, include a 'Z' word. This will cause the 'Z' axis to move to the programmed value during
the circular 'XY' motion.</p>
<p>To program an arc that gives more than one full turn, use the 'P' word specifying the number of full
turns plus the programmed arc. The 'P' word must be an integer. If 'P' is unspecified, the behavior
is as if 'P1' was given: that is, only one full or partial turn will result. For example, if a 180
degree arc is programmed with a P2, the resulting motion will be 1 1/2 rotations. For each P
increment above 1 an extra full circle is added to the programmed arc. Multi turn helical arcs are
supported and give motion useful for milling holes or threads.</p>
<p>If a line of code makes an arc and includes rotary axis motion, the rotary axes turn at a constant
rate so that the rotary motion starts and finishes when the XYZ motion starts and finishes. Lines of
this sort are hardly ever programmed.</p>
<p>If cutter compensation is active, the motion will differ from the above; see the <a class="reference external" href="#sec:cutter-compensation">Cutter
Compensation</a> Section.</p>
<p>The arc center is absolute or relative as set by <a class="reference external" href="#gcode:g90.1-g91.1">G90.1 or G91.1</a>
respectively.</p>
<p>Two formats are allowed for specifying an arc: Center Format and Radius Format.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>No feed rate has been set.</p></li>
<li><p>The P word is not an integer.</p></li>
</ul>
<section id="center-format-arcs">
<h3>Center Format Arcs<a class="headerlink" href="#center-format-arcs" title="Link to this heading"></a></h3>
<p>Center format arcs are more accurate than radius format arcs and are the preferred format to use.</p>
<p>The end point of the arc along with the offset to the center of the arc from the current location
are used to program arcs that are less than a full circle. It is OK if the end point of the arc is
the same as the current location.</p>
<p>The offset to the center of the arc from the current location and optionally the number of turns are
used to program full circles.</p>
<p>When programming arcs an error due to rounding can result from using a precision of less than 4
decimal places (0.0000) for inch and less than 3 decimal places (0.000) for millimeters.</p>
<p>Incremental Arc Distance Mode</p>
<p>Arc center offsets are a relative distance from the start location of the arc. Incremental Arc
Distance Mode is default.</p>
<p>One or more axis words and one or more offsets must be programmed for an arc that is less than 360
degrees.</p>
<p>No axis words and one or more offsets must be programmed for full circles. The 'P' word defaults to
1 and is optional.</p>
<p>For more information on 'Incremental Arc Distance Mode see the <a class="reference external" href="#gcode:g90.1-g91.1">G91.1</a>
section.</p>
<p>Absolute Arc Distance Mode</p>
<p>Arc center offsets are the absolute distance from the current 0 position of the axis.</p>
<p>One or more axis words and 'both' offsets must be programmed for arcs
less than 360 degrees.</p>
<p>No axis words and both offsets must be programmed for full circles. The 'P' word defaults to 1 and
is optional.</p>
<p>For more information on 'Absolute Arc Distance Mode see the <a class="reference external" href="#gcode:g90.1-g91.1">G90.1</a> section.</p>
<p>XY-plane (G17)</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G2 or G3 &lt;X- Y- Z- I- J- P-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'Z' - helix</p></li>
<li><p>'I' - X offset</p></li>
<li><p>'J' - Y offset</p></li>
<li><p>'P' - number of turns</p></li>
</ul>
<p>XZ-plane (G18)</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G2 or G3 &lt;X- Z- Y- I- K- P-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'Y' - helix</p></li>
<li><p>'I' - X offset</p></li>
<li><p>'K' - Z offset</p></li>
<li><p>'P' - number of turns</p></li>
</ul>
<p>YZ-plane (G19)</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G2 or G3 &lt;Y- Z- X- J- K- P-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'X' - helix</p></li>
<li><p>'J' - Y offset</p></li>
<li><p>'K' - Z offset</p></li>
<li><p>'P' - number of turns</p></li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>No feed rate is set with the <a class="reference external" href="#sec:set-feed-rate">F</a> word.</p></li>
<li><p>No offsets are programmed.</p></li>
<li><p>When the arc is projected on the selected plane, the distance from the current point to the center
differs from the distance from the end point to the center by more than (.05 inch/.5 mm) OR
((.0005 inch/.005mm) AND .1% of radius).</p></li>
</ul>
<p>Deciphering the Error message 'Radius to end of arc differs from radius to start:'</p>
<ul class="simple">
<li><p>'start' - the current position</p></li>
<li><p>'center' - the center position as calculated using the i, j, or k words</p></li>
<li><p>'end' - the programmed end point</p></li>
<li><p>'r1' - radius from the start position to the center</p></li>
<li><p>'r2' - radius from the end position to the center</p></li>
</ul>
</section>
<section id="center-format-examples">
<h3>Center Format Examples<a class="headerlink" href="#center-format-examples" title="Link to this heading"></a></h3>
<p>Calculating arcs by hand can be difficult at times. One option is to draw the arc with a cad program
to get the coordinates and offsets. Keep in mind the tolerance mentioned above, you may have to
change the precision of your cad program to get the desired results. Another option is to calculate
the coordinates and offset using formulas. As you can see in the following figures a triangle can be
formed from the current position the end position and the arc center.</p>
<p>In the following figure you can see the start position is X0 Y0, the end position is X1 Y1. The arc
center position is at X1 Y0. This gives us an offset from the start position of 1 in the X axis and
0 in the Y axis.  In this case only an I offset is needed.</p>
<p>G2 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X0 Y0
G2 X1 Y1 I1 F10 (clockwise arc in the XY plane)
</pre></div>
</div>
<p><img alt="G2 Example" src="../../_images/g2.png" /></p>
<p>Figure 1. G2 Example</p>
<p>In the next example we see the difference between the offsets for Y if we are doing a G2 or a G3
move. For the G2 move the start position is X0 Y0, for the G3 move it is X0 Y1. The arc center is at
X1 Y0.5 for both moves. The G2 move the J offset is 0.5 and the G3 move the J offset is -0.5.</p>
<p>G2-G3 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X0 Y0
G2 X0 Y1 I1 J0.5 F25 (clockwise arc in the XY plane)
G3 X0 Y0 I1 J-0.5 F25 (counterclockwise arc in the XY plane)
</pre></div>
</div>
<p><img alt="G2-G3 Example" src="../../_images/g2-3.png" /></p>
<p>Figure 2. G2-G3 Example</p>
<p>In the next example we show how the arc can make a helix in the Z axis by adding the Z word.</p>
<p>G2 Example Helix</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X0 Y0 Z0
G17 G2 X10 Y16 I3 J4 Z-1 (helix arc with Z added)
</pre></div>
</div>
<p>In the next example we show how to make more than one turn using the P word.</p>
<p>P word Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X0 Y0 Z0
G2 X0 Y1 Z-1 I1 J0.5 P2 F25
</pre></div>
</div>
<p>In the center format, the radius of the arc is not specified, but it may be found easily as the
distance from the center of the circle to either the current point or the end point of the arc.</p>
</section>
<section id="radius-format-arcs">
<h3>Radius Format Arcs<a class="headerlink" href="#radius-format-arcs" title="Link to this heading"></a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G2 or G3 axes R- &lt;P-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'R' - radius from current position</p></li>
</ul>
<p>It is not good practice to program radius format arcs that are nearly full circles or nearly
semicircles because a small change in the location of the end point will produce a much larger
change in the location of the center of the circle (and, hence, the middle of the arc). The
magnification effect is large enough that rounding error in a number can produce out-of-tolerance
cuts. For instance, a 1% displacement of the endpoint of a 180 degree arc produced a 7% displacement
of the point 90 degrees along the arc. Nearly full circles are even worse. Other size arcs (in the
range tiny to 165 degrees or 195 to 345 degrees) are OK.</p>
<p>In the radius format, the coordinates of the end point of the arc in the selected plane are
specified along with the radius of the arc. Program 'G2' 'axes' 'R-' (or use 'G3' instead of 'G2'
). R is the radius. The axis words are all optional except that at least one of the two words for
the axes in the selected plane must be used. The R number is the radius. A positive radius indicates
that the arc turns through less than 180 degrees, while a negative radius indicates a turn of more
than 180 degrees. If the arc is helical, the value of the end point of the arc on the coordinate
axis parallel to the axis of the helix is also specified.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>both of the axis words for the axes of the selected plane are omitted</p></li>
<li><p>the end point of the arc is the same as the current point.</p></li>
</ul>
<p>G2 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G17 G2 X10 Y15 R20 Z5 (radius format with arc)
</pre></div>
</div>
<p>The above example makes a clockwise (as viewed from the positive Z-axis) circular or helical arc
whose axis is parallel to the Z-axis, ending where X=10, Y=15, and Z=5, with a radius of 20. If the
starting value of Z is 5, this is an arc of a circle parallel to the XY-plane; otherwise it is a
helical arc.</p>
</section>
</section>
<section id="g4-dwell">
<h2>G4 Dwell<a class="headerlink" href="#g4-dwell" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G4 P-
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - seconds to dwell (floating point)</p></li>
</ul>
<p>The P number is the time in seconds that all axes will remain unmoving.
The P number is a floating point number so fractions of a second may be
used. G4 does not affect spindle, coolant and any I/O.</p>
<p>G4 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G4 P0.5 (wait for 0.5 seconds before proceeding)
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the P number is negative or not specified.</p></li>
</ul>
</section>
<section id="g5-cubic-spline">
<h2>G5 Cubic Spline<a class="headerlink" href="#g5-cubic-spline" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G5 X- Y- &lt;I- J-&gt; P- Q-
</pre></div>
</div>
<ul class="simple">
<li><p>'I' - X incremental offset from start point to first control point</p></li>
<li><p>'J' - Y incremental offset from start point to first control point</p></li>
<li><p>'P' - X incremental offset from end point to second control point</p></li>
<li><p>'Q' - Y incremental offset from end point to second control point</p></li>
</ul>
<p>G5 creates a cubic B-spline in the XY plane with the X and Y axes only.  P and Q must both be
specified for every G5 command.</p>
<p>For the first G5 command in a series of G5 commands, I and J must both be specified. For subsequent
G5 commands, either both I and J must be specified, or neither. If I and J are unspecified, the
starting direction of this cubic will automatically match the ending direction of the previous cubic
(as if I and J are the negation of the previous P and Q).</p>
<p>For example, to program a curvy N shape:</p>
<p>G5 Sample initial cubic spline</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G17
G0 X0 Y0
G5 I0 J3 P0 Q-3 X1 Y1
</pre></div>
</div>
<p>A second curvy N that attaches smoothly to this one can now be made without specifying I and J:</p>
<p>G5 Sample subsequent cubic spline</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G5 P0 Q-3 X2 Y2
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>P and Q are not both specified</p></li>
<li><p>Just one of I or J are specified</p></li>
<li><p>I or J are unspecified in the first of a series of G5 commands</p></li>
<li><p>An axis other than X or Y is specified</p></li>
<li><p>The active plane is not G17</p></li>
</ul>
</section>
<section id="g5-1-quadratic-spline">
<span id="g51-quadratic-spline"></span><h2>G5.1 Quadratic Spline<a class="headerlink" href="#g5-1-quadratic-spline" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G5.1 X- Y- I- J-
</pre></div>
</div>
<ul class="simple">
<li><p>'I' - X incremental offset from start point to control point</p></li>
<li><p>'J' - Y incremental offset from start point to control point</p></li>
</ul>
<p>G5.1 creates a quadratic B-spline in the XY plane with the X and Y axis only. Not specifying I or J
gives zero offset for the unspecified axis, so one or both must be given.</p>
<p>For example, to program a parabola, through the origin, from X-2 Y4 to X2 Y4:</p>
<p>G5.1 Sample quadratic spline</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G17
G0 X-2 Y4
G5.1 X2 I2 J-8
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>both I and J offset are unspecified or zero</p></li>
<li><p>An axis other than X or Y is specified</p></li>
<li><p>The active plane is not G17</p></li>
</ul>
</section>
<section id="g5-2-g5-3-nurbs-block">
<span id="g52-g53-nurbs-block"></span><h2>G5.2 G5.3 NURBS Block<a class="headerlink" href="#g5-2-g5-3-nurbs-block" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G5.2 &lt;P-&gt; &lt;X- Y-&gt; &lt;L-&gt;
X- Y- &lt;P-&gt;
...
G5.3
</pre></div>
</div>
<p>Warning: G5.2, G5.3 is experimental and not fully tested.</p>
<p>G5.2 is for opening the data block defining a NURBS and G5.3 for closing the data block. In the
lines between these two codes the curve control points are defined with both their related
'weights' (P) and the parameter (L) which determines the order of the curve.</p>
<p>The current coordinate, before the first G5.2 command, is always taken as the first NURBS control
point. To set the weight for this first control point, first program G5.2 P- without giving any X Y.</p>
<p>The default weight if P is unspecified is 1. The default order if L is unspecified is 3.</p>
<p>G5.2 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X0 Y0 (rapid move)
F10 (set feed rate)
G5.2 P1 L3
     X0 Y1 P1
     X2 Y2 P1
     X2 Y0 P1
     X0 Y0 P2
G5.3
; The rapid moves show the same path without the NURBS Block
G0 X0 Y1
   X2 Y2
   X2 Y0
   X0 Y0
M2
</pre></div>
</div>
<p>Sample NURBS Output</p>
<p><img alt="Sample NURBS Output" src="../../_images/nurbs01.png" /></p>
<p>More information on NURBS can be found here: <a class="reference external" href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?NURBS">http://wiki.linuxcnc.org/cgi-bin/wiki.pl?NURBS</a></p>
</section>
<section id="g7-lathe-diameter-mode">
<h2>G7 Lathe Diameter Mode<a class="headerlink" href="#g7-lathe-diameter-mode" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G7
</pre></div>
</div>
<p>Program G7 to enter the diameter mode for axis X on a lathe. When in the diameter mode the X axis
moves on a lathe will be 1/2 the distance to the center of the lathe. For example X1 would move the
cutter to 0.500” from the center of the lathe thus giving a 1” diameter part.</p>
</section>
<section id="g8-lathe-radius-mode">
<h2>G8 Lathe Radius Mode<a class="headerlink" href="#g8-lathe-radius-mode" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G8
</pre></div>
</div>
<p>Program G8 to enter the radius mode for axis X on a lathe. When in Radius mode the X axis moves on a
lathe will be the distance from the center. Thus a cut at X1 would result in a part that is 2&quot; in
diameter.  G8 is default at power up.</p>
</section>
<section id="g10-l1-set-tool-table">
<h2>G10 L1 Set Tool Table<a class="headerlink" href="#g10-l1-set-tool-table" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L1 P- axes &lt;R- I- J- Q-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - tool number</p></li>
<li><p>'R' - radius of tool</p></li>
<li><p>'I' - front angle (lathe)</p></li>
<li><p>'J' - back angle (lathe)</p></li>
<li><p>'Q' - orientation (lathe)</p></li>
</ul>
<p>G10 L1 sets the tool table for the 'P' tool number to the values of the words.</p>
<p>A valid G10 L1 rewrites and reloads the tool table.</p>
<p>G10 L1 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L1 P1 Z1.5 (set tool 1 Z offset from the machine origin to 1.5)
G10 L1 P2 R0.015 Q3 (lathe example setting tool 2 radius to 0.015 and orientation to 3)
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>Cutter Compensation is on</p></li>
<li><p>The P number is unspecified</p></li>
<li><p>The P number is not a valid tool number from the tool table</p></li>
<li><p>The P number is 0</p></li>
</ul>
<p>For more information on cutter orientation used by the 'Q' word, see the <a class="reference external" href="#lathe-tool-orientation">Lathe Tool Orientation</a> diagram.</p>
</section>
<section id="g10-l2-set-coordinate-system">
<h2>G10 L2 Set Coordinate System<a class="headerlink" href="#g10-l2-set-coordinate-system" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L2 P- &lt;axes R-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - coordinate system (0-9)</p></li>
<li><p>'R' - rotation about the Z axis</p></li>
</ul>
<p>G10 L2 offsets the origin of the axes in the coordinate system specified to the value of the axis
word. The offset is from the machine origin established during homing. The offset value will replace
any current offsets in effect for the coordinate system specified. Axis words not used will not be
changed.</p>
<p>Program P0 to P9 to specify which coordinate system to change.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>P Value</p></th>
<th class="head"><p>Coordinate System</p></th>
<th class="head"><p>G code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Active</p></td>
<td><p>n/a</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>G54</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>2</p></td>
<td><p>G55</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>3</p></td>
<td><p>G56</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>4</p></td>
<td><p>G57</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>5</p></td>
<td><p>G58</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>6</p></td>
<td><p>G59</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>7</p></td>
<td><p>G59.1</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>8</p></td>
<td><p>G59.2</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>9</p></td>
<td><p>G59.3</p></td>
</tr>
</tbody>
</table>
<p>Optionally program R to indicate the rotation of the XY axis around the Z axis. The direction of
rotation is CCW as viewed from the positive end of the Z axis.</p>
<p>All axis words are optional.</p>
<p>Being in incremental distance mode (<a class="reference external" href="#gcode:g90-g91">'G91'</a>) has no effect on 'G10 L2'.</p>
<p>Important Concepts:</p>
<ul class="simple">
<li><p>G10 L2 Pn does not change from the current coordinate system to the one specified by P, you have
to use G54-59.3 to select a coordinate system.</p></li>
<li><p>When a rotation is in effect jogging an axis will only move that axis in a positive or negative
direction and not along the rotated axis.</p></li>
<li><p>If a 'G52' local offset or 'G92' origin offset was in effect before 'G10 L2', it will continue to
be in effect afterwards.</p></li>
<li><p>When programming a coordinate system with R, any 'G52' or 'G92' will be applied <strong>after</strong> the
rotation.</p></li>
<li><p>The coordinate system whose origin is set by a 'G10' command may be active or inactive at the time
the 'G10' is executed. If it is currently active, the new coordinates take effect immediately.</p></li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>The P number does not evaluate to an integer in the range 0 to 9.</p></li>
<li><p>An axis is programmed that is not defined in the configuration.</p></li>
</ul>
<p>G10 L2 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L2 P1 X3.5 Y17.2
</pre></div>
</div>
<p>In the above example the origin of the first coordinate system (the one selected by 'G54') is set to
be X=3.5 and Y=17.2. Because only X and Y are specified, the origin point is only moved in X and Y;
the other coordinates are not changed.</p>
<p>G10 L2 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L2 P1 X0 Y0 Z0 (clear offsets for X,Y &amp; Z axes in coordinate system 1)
</pre></div>
</div>
<p>The above example sets the XYZ coordinates of the coordinate system 1 to the machine origin.</p>
<p>The coordinate system is described in the <a class="reference external" href="#cha:coordinate-system">Coordinate System</a> Section.</p>
</section>
<section id="g10-l10-set-tool-table">
<h2>G10 L10 Set Tool Table<a class="headerlink" href="#g10-l10-set-tool-table" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L10 P- axes &lt;R- I- J- Q-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - tool number</p></li>
<li><p>'R' - radius of tool</p></li>
<li><p>'I' - front angle (lathe)</p></li>
<li><p>'J' - back angle (lathe)</p></li>
<li><p>'Q' - orientation (lathe)</p></li>
</ul>
<p>G10 L10 changes the tool table entry for tool P so that if the tool offset is reloaded, with the
machine in its current position and with the current G5x and G52/G92 offsets active, the current
coordinates for the given axes will become the given values. The axes that are not specified in the
G10 L10 command will not be changed. This could be useful with a probe move as described in the <a class="reference external" href="#gcode:g38">G38</a> section.</p>
<p>G10 L10 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>T1 M6 G43 (load tool 1 and tool length offsets)
G10 L10 P1 Z1.5 (set the current position for Z to be 1.5)
G43 (reload the tool length offsets from the changed tool table)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><p>See <a class="reference external" href="#sec:select-tool">T</a> &amp; <a class="reference external" href="#mcode:m6">M6</a>, and <a class="reference external" href="#gcode:g43">G43</a> / <a class="reference external" href="#gcode:g43.1">G43.1</a> sections for more information.</p></li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>Cutter Compensation is on</p></li>
<li><p>The P number is unspecified</p></li>
<li><p>The P number is not a valid tool number from the tool table</p></li>
<li><p>The P number is 0</p></li>
</ul>
</section>
<section id="g10-l11-set-tool-table">
<h2>G10 L11 Set Tool Table<a class="headerlink" href="#g10-l11-set-tool-table" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L11 P- axes &lt;R- I- J- Q-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - tool number</p></li>
<li><p>'R' - radius of tool</p></li>
<li><p>'I' - front angle (lathe)</p></li>
<li><p>'J' - back angle (lathe)</p></li>
<li><p>'Q' - orientation (lathe)</p></li>
</ul>
<p>G10 L11 is just like G10 L10 except that instead of setting the entry according to the current
offsets, it is set so that the current coordinates would become the given value if the new tool
offset is reloaded and the machine is placed in the G59.3 coordinate system without any G52/G92
offset active.</p>
<p>This allows the user to set the G59.3 coordinate system according to a fixed point on the machine,
and then use that fixture to measure tools without regard to other currently-active offsets.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>Cutter Compensation is on</p></li>
<li><p>The P number is unspecified</p></li>
<li><p>The P number is not a valid tool number from the tool table</p></li>
<li><p>The P number is 0</p></li>
</ul>
</section>
<section id="g10-l20-set-coordinate-system">
<h2>G10 L20 Set Coordinate System<a class="headerlink" href="#g10-l20-set-coordinate-system" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L20 P- axes
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - coordinate system (0-9)</p></li>
</ul>
<p>G10 L20 is similar to G10 L2 except that instead of setting the offset/entry to the given value, it
is set to a calculated value that makes the current coordinates become the given value.</p>
<p>G10 L20 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G10 L20 P1 X1.5 (set the X axis current location in coordinate system 1 to 1.5)
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>The P number does not evaluate to an integer in the range 0 to 9.</p></li>
<li><p>An axis is programmed that is not defined in the configuration.</p></li>
</ul>
</section>
<section id="g17-g19-1-plane-select">
<span id="g17-g191-plane-select"></span><h2>G17 - G19.1 Plane Select<a class="headerlink" href="#g17-g19-1-plane-select" title="Link to this heading"></a></h2>
<p>These codes set the current plane as follows:</p>
<ul class="simple">
<li><p>'G17' - XY (default)</p></li>
<li><p>'G18' - ZX</p></li>
<li><p>'G19' - YZ</p></li>
<li><p>'G17.1' - UV</p></li>
<li><p>'G18.1' - WU</p></li>
<li><p>'G19.1' - VW</p></li>
</ul>
<p>The UV, WU and VW planes do not support arcs.</p>
<p>It is a good idea to include a plane selection in the preamble of each G code file.</p>
<p>The effects of having a plane selected are discussed in Section <a class="reference external" href="#gcode:g2-g3">G2 G3 Arcs</a> and
Section <a class="reference external" href="#gcode:g80-g89">G81 G89</a></p>
</section>
<section id="g20-g21-units">
<h2>G20, G21 Units<a class="headerlink" href="#g20-g21-units" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G20' - to use inches for length units.</p></li>
<li><p>'G21' - to use millimeters for length units.</p></li>
</ul>
<p>It is a good idea to include units in the preamble of each G code file.</p>
</section>
<section id="g28-g28-1-go-set-predefined-position">
<span id="g28-g281-goset-predefined-position"></span><h2>G28, G28.1 Go/Set Predefined Position<a class="headerlink" href="#g28-g28-1-go-set-predefined-position" title="Link to this heading"></a></h2>
<p>G28 uses the values stored in <a class="reference external" href="#sub:numbered-parameters">parameters</a> 5161-5169 as the X Y Z A B C
U V W final point to move to. The parameter values are 'absolute' machine coordinates in the native
machine 'units' as specified in the ini file. All axes defined in the ini file will be moved when a
G28 is issued. If no positions are stored with G28.1 then all axes will go to the <a class="reference external" href="#sec.machine-corrdinate-system">machine origin</a>.</p>
<ul class="simple">
<li><p>'G28' - makes a <a class="reference external" href="#gcode:g0">rapid move</a> from the current position to the 'absolute' position of
the values in parameters 5161-5166.</p></li>
<li><p>'G28 axes' - makes a rapid move to the position specified by 'axes' including any offsets, then
will make a rapid move to the 'absolute' position of the values in parameters 5161-5166 for all
'axes' specified. Any 'axis' not specified will not move.</p></li>
<li><p>'G28.1' - stores the current 'absolute' position into parameters 5161-5166.</p></li>
</ul>
<p>G28 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G28 Z2.5 (rapid to Z2.5 then to Z location specified in #5163)
</pre></div>
</div>
<p>It is an error if :</p>
<ul class="simple">
<li><p>Cutter Compensation is turned on</p></li>
</ul>
</section>
<section id="g30-g30-1-go-set-predefined-position">
<span id="g30-g301-goset-predefined-position"></span><h2>G30, G30.1 Go/Set Predefined Position<a class="headerlink" href="#g30-g30-1-go-set-predefined-position" title="Link to this heading"></a></h2>
<p>G30 functions the same as G28 but uses the values stored in <a class="reference external" href="#sub:numbered-parameters">parameters</a> 5181-5189 as the X Y Z A B C U V W final point to move to. The
parameter values are 'absolute' machine coordinates in the native machine 'units' as specified in
the ini file.  All axes defined in the ini file will be moved when a G30 is issued. If no positions
are stored with G30.1 then all axes will go to the <a class="reference external" href="#sec.machine-corrdinate-system">machine origin</a>.</p>
<ul class="simple">
<li><p>'G30' - makes a <a class="reference external" href="#gcode:g0">rapid move</a> from the current position to the 'absolute' position of
the values in parameters 5181-5186.</p></li>
<li><p>'G30 axes' - makes a rapid move to the position specified by 'axes' including any offsets, then
will make a rapid move to the 'absolute' position of the values in parameters 5181-5186 for all
'axes' specified. Any 'axis' not specified will not move.</p></li>
<li><p>'G30.1' - stores the current absolute position into parameters 5181-5186.</p></li>
</ul>
<p>G30 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G30 Z2.5 (rapid to Z2.5 then to the Z location specified in #5i83)
</pre></div>
</div>
<p>It is an error if :</p>
<ul class="simple">
<li><p>Cutter Compensation is turned on</p></li>
</ul>
</section>
<section id="g33-spindle-synchronized-motion">
<h2>G33 Spindle Synchronized Motion<a class="headerlink" href="#g33-spindle-synchronized-motion" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G33 X- Y- Z- K- $-
</pre></div>
</div>
<ul class="simple">
<li><p>'K' - distance per revolution</p></li>
</ul>
<p>For spindle-synchronized motion in one direction, code 'G33 X- Y- Z- K-' where K gives the distance
moved in XYZ for each revolution of the spindle. For instance, if starting at 'Z=0', 'G33 Z-1
K.0625' produces a 1 inch motion in Z over 16 revolutions of the spindle. This command might be part
of a program to produce a 16TPI thread. Another example in metric, 'G33 Z-15 K1.5' produces a
movement of 15mm while the spindle rotates 10 times for a thread of 1.5mm.</p>
<p>The (optional) $ argument sets which spindle the motion is synchronised to (default is zero). For
example G33 Z10 K1 $1 will move the spindle in synchrony with the spindle.N.revs HAL pin value.</p>
<p>Spindle-synchronized motion waits for the spindle index and spindle at speed pins, so multiple
passes line up. 'G33' moves end at the programmed endpoint. G33 could be used to cut tapered threads
or a fusee.</p>
<p>All the axis words are optional, except that at least one must be used.</p>
<p>Technical Info</p>
<p>At the beginning of each G33 pass, LinuxCNC uses the spindle speed and the machine acceleration
limits to calculate how long it will take Z to accelerate after the index pulse, and determines how
many degrees the spindle will rotate during that time. It then adds that angle to the index position
and computes the Z position using the corrected spindle angle. That means that Z will reach the
correct position just as it finishes accelerating to the proper speed, and can immediately begin
cutting a good thread.</p>
<p>HAL Connections</p>
<p>The pin 'spindle.N.at-speed' must be set or driven true for the motion to start. Additionally
spindle.N.revs must increase by 1 for each revolution of the spindle and the spindle.N.index-enable
pin must be connected to an encoder (or resolver) counter which resets index-enable once per rev.</p>
<p>See the Integrators Manual for more information on spindle synchronized motion.</p>
<p>G33 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (absolute distance mode)
G0 X1 Z0.1 (rapid to position)
S100 M3 (start spindle turning)
G33 Z-2 K0.125 (move Z axis to -2 at a rate to equal 0.125 per revolution)
G0 X1.25 (rapid move tool away from work)
Z0.1 (rapid move to starting Z position)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>See <a class="reference external" href="#gcode:g90-g91">G90</a> &amp; <a class="reference external" href="#gcode:g0">G0</a> &amp; <a class="reference external" href="#mcode:m2-m30">M2</a> sections for more</dt><dd><p>information.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>All axis words are omitted.</p></li>
<li><p>The spindle is not turning when this command is executed</p></li>
<li><p>The requested linear motion exceeds machine velocity limits due to the spindle speed</p></li>
</ul>
</section>
<section id="g33-1-rigid-tapping">
<span id="g331-rigid-tapping"></span><h2>G33.1 Rigid Tapping<a class="headerlink" href="#g33-1-rigid-tapping" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G33.1 X- Y- Z- K- I- $-
</pre></div>
</div>
<ul class="simple">
<li><p>'K' - distance per revolution</p></li>
<li><p>'I' - optional spindle speed multiplier for faster return move</p></li>
<li><p>'$' - optional spindle selector</p></li>
</ul>
<p>For rigid tapping (spindle synchronized motion with return), code 'G33.1 X- Y- Z- K-' where 'K-'
gives the distance moved for each revolution of the spindle.</p>
<p>A rigid tapping move consists of the following sequence:</p>
<ol class="arabic simple">
<li><p>A move from the current coordinate to the specified coordinate, synchronized with the selected
spindle at the given ratio and starting from the current coordinate with a spindle index pulse.</p></li>
<li><p>When reaching the endpoint, a command to reverse the spindle, and speed up by a factor set by the
multiplier (e.g., from clockwise to counterclockwise).</p></li>
<li><p>Continued synchronized motion beyond the specified end coordinate until the spindle actually
stops and reverses.</p></li>
<li><p>Continued synchronized motion back to the original coordinate.</p></li>
<li><p>When reaching the original coordinate, a command to reverse the spindle a second time (e.g., from
counterclockwise to clockwise).</p></li>
<li><p>Continued synchronized motion beyond the original coordinate until the spindle actually stops and
reverses.</p></li>
<li><p>An <strong>unsynchronized</strong> move back to the original coordinate.</p></li>
</ol>
<p>Spindle-synchronized motions wait for spindle index, so multiple passes line up.'G33.1' moves end at
the original coordinate.</p>
<p>All the axis words are optional, except that at least one must be used.</p>
<p>G33.1 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute mode)
G0 X1.000 Y1.000 Z0.100 (rapid move to starting position)
S100 M3 (turn on the spindle, 100 RPM)
G33.1 Z-0.750 K0.05 (rigid tap a 20 TPI thread 0.750 deep)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>See <a class="reference external" href="#gcode:g90-g91">G90</a> &amp; <a class="reference external" href="#gcode:g0">G0</a> &amp;</dt><dd><p><a class="reference external" href="#mcode:m2-m30">M2</a> sections for more information.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>All axis words are omitted.</p></li>
<li><p>The spindle is not turning when this command is executed</p></li>
<li><p>The requested linear motion exceeds machine velocity limits due to the spindle speed</p></li>
</ul>
</section>
<section id="g38-n-straight-probe">
<span id="g38n-straight-probe"></span><h2>G38.n Straight Probe<a class="headerlink" href="#g38-n-straight-probe" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G38.n axes
</pre></div>
</div>
<ul class="simple">
<li><p>'G38.2' - probe toward workpiece, stop on contact, signal error if failure</p></li>
<li><p>'G38.3' - probe toward workpiece, stop on contact</p></li>
<li><p>'G38.4' - probe away from workpiece, stop on loss of contact, signal error if failure</p></li>
<li><p>'G38.5' - probe away from workpiece, stop on loss of contact</p></li>
</ul>
<p>Program 'G38.n axes' to perform a straight probe operation. The axis words are optional, except that
at least one of them must be used. The axis words together define the destination point that the
probe will move towards, starting from the current location. If the probe is not tripped before the
destination is reached G38.2 and G38.4 will signal an error.</p>
<p>The tool in the spindle must be a probe or contact a probe switch.</p>
<p>In response to this command, the machine moves the controlled point (which should be at the center
of the probe ball) in a straight line at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> toward the
programmed point. In inverse time feed mode, the feed rate is such that the whole motion from the
current point to the programmed point would take the specified time. The move stops (within machine
acceleration limits) when the programmed point is reached, or when the requested change in the probe
input takes place, whichever occurs first.</p>
<p>After successful probing, parameters #5061 to #5069 will be set to the X, Y, Z, A, B, C, U, V, W
coordinates of the location of the controlled point at the time the probe changed state (in the
current work coordinate system). After unsuccessful probing, they are set to the coordinates of the
programmed point. Parameter 5070 is set to 1 if the probe succeeded and 0 if the probe failed. If
the probing operation failed, G38.2 and G38.4 will signal an error by posting an message on screen
if the selected GUI supports that. And by halting program execution.</p>
<p>A comment of the form '(PROBEOPEN filename.txt)' will open 'filename.txt' and store the 9-number
coordinate consisting of XYZABCUVW of each successful straight probe in it. The file must be closed
with '(PROBECLOSE)'. For more information see the <a class="reference external" href="#gcode:comments">Comments</a> Section.</p>
<p>An example file 'smartprobe.ngc' is included (in the examples directory) to demonstrate using probe
moves to log to a file the coordinates of a part. The program 'smartprobe.ngc' could be used with
'ngcgui' with minimal changes.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the current point is the same as the programmed point.</p></li>
<li><p>no axis word is used</p></li>
<li><p>cutter compensation is enabled</p></li>
<li><p>the feed rate is zero</p></li>
<li><p>the probe is already in the target state</p></li>
</ul>
</section>
<section id="g40-compensation-off">
<h2>G40 Compensation Off<a class="headerlink" href="#g40-compensation-off" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>'G40' - turn cutter compensation off. If tool compensation was on the next move must be a linear</dt><dd><p>move and longer than the tool diameter. It is OK to turn compensation off when it is already off.</p>
</dd>
</dl>
</li>
</ul>
<p>G40 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>; current location is X1 after finishing cutter compensated move
G40 (turn compensation off)
G0 X1.6 (linear move longer than current cutter diameter)
M2 (end program)
</pre></div>
</div>
<p>See <a class="reference external" href="#gcode:g0">G0</a> &amp; <a class="reference external" href="#mcode:m2-m30">M2</a> sections for more information.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>A G2/G3 arc move is programmed next after a G40.</p></li>
<li><p>The linear move after turning compensation off is less than the tool diameter.</p></li>
</ul>
</section>
<section id="g41-g42-cutter-compensation">
<h2>G41, G42 Cutter Compensation<a class="headerlink" href="#g41-g42-cutter-compensation" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G41 &lt;D-&gt; (left of programmed path)
G42 &lt;D-&gt; (right of programmed path)
</pre></div>
</div>
<ul class="simple">
<li><p>'D' - tool number</p></li>
</ul>
<p>The D word is optional; if there is no D word the radius of the currently loaded tool will be used
(if no tool is loaded and no D word is given, a radius of 0 will be used).</p>
<p>If supplied, the D word is the tool number to use. This would normally be the number of the tool in
the spindle (in which case the D word is redundant and need not be supplied), but it may be any
valid tool number.</p>
<p>To start cutter compensation to the left of the part profile, use G41.  G41 starts cutter
compensation to the left of the programmed line as viewed from the positive end of the axis
perpendicular to the plane.</p>
<p>To start cutter compensation to the right of the part profile, use G42.  G42 starts cutter
compensation to the right of the programmed line as viewed from the positive end of the axis
perpendicular to the plane.</p>
<p>The lead in move must be at least as long as the tool radius. The lead in move can be a rapid move.</p>
<p>Cutter compensation may be performed if the XY-plane or XZ-plane is active.</p>
<p>User M100-M199 commands are allowed when Cutter Compensation is on.</p>
<p>The behavior of the machining center when cutter compensation is on is described in the <a class="reference external" href="#sec:cutter-compensation">Cutter
Compensation</a> Section along with code examples.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>The D number is not a valid tool number or 0.</p></li>
<li><p>The YZ plane is active.</p></li>
<li><p>Cutter compensation is commanded to turn on when it is already on.</p></li>
</ul>
</section>
<section id="g41-1-g42-1-dynamic-cutter-compensation">
<span id="g411-g421-dynamic-cutter-compensation"></span><h2>G41.1, G42.1 Dynamic Cutter Compensation<a class="headerlink" href="#g41-1-g42-1-dynamic-cutter-compensation" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G41.1 D- &lt;L-&gt; (left of programmed path)
G42.1 D- &lt;L-&gt; (right of programmed path)
</pre></div>
</div>
<ul class="simple">
<li><p>'D' - cutter diameter</p></li>
<li><p>'L' - tool orientation (see <a class="reference external" href="#lathe-tool-orientation">lathe tool orientation</a>)</p></li>
</ul>
<p>G41.1 &amp; G42.1 function the same as G41 &amp; G42 with the added scope of being able to program the tool
diameter. The L word defaults to 0 if unspecified.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>The YZ plane is active.</p></li>
<li><p>The L number is not in the range from 0 to 9 inclusive.</p></li>
<li><p>The L number is used when the XZ plane is not active.</p></li>
<li><p>Cutter compensation is commanded to turn on when it is already on.</p></li>
</ul>
</section>
<section id="g43-tool-length-offset">
<h2>G43 Tool Length Offset<a class="headerlink" href="#g43-tool-length-offset" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G43 &lt;H-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'H' - tool number (optional)</p></li>
</ul>
<p>G43 enables tool length compensation. G43 changes subsequent motions by offsetting the axis
coordinates by the length of the offset. G43 does not cause any motion. The next time a compensated
axis is moved, that axis’s endpoint is the compensated location.</p>
<p>'G43' without an H word uses the currently loaded tool from the last 'Tn M6'.</p>
<p>'G43 Hn' uses the offset for tool n.</p>
<p>G43 H- Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G43 H1 (set tool offsets using the values from tool 1 in the tool table)
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the H number is not an integer, or</p></li>
<li><p>the H number is negative, or</p></li>
<li><p>the H number is not a valid tool number (though note that 0 is a valid tool number on nonrandom
tool changer machines, it means &quot;the tool currently in the spindle&quot;)</p></li>
</ul>
</section>
<section id="g43-1-dynamic-tool-length-offset">
<span id="g431-dynamic-tool-length-offset"></span><h2>G43.1: Dynamic Tool Length Offset<a class="headerlink" href="#g43-1-dynamic-tool-length-offset" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G43.1 axes
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>'G43.1 axes' - change subsequent motions by replacing the current offset(s) of axes. G43.1 does</dt><dd><p>not cause any motion. The next time a compensated axis is moved, that axis’s endpoint is the
compensated location.</p>
</dd>
</dl>
</li>
</ul>
<p>G43.1 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute mode)
T1 M6 G43 (load tool 1 and tool length offsets, Z is at machine 0 and DRO shows Z1.500)
G43.1 Z0.250 (offset current tool offset by 0.250, DRO now shows Z1.250)
M2 (end program)
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>See <a class="reference external" href="#gcode:g90-g91">G90</a> &amp; <a class="reference external" href="#sec:select-tool">T</a> &amp;</dt><dd><p><a class="reference external" href="#mcode:m6">M6</a> sections for more information.</p>
</dd>
</dl>
</li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>motion is commanded on the same line as 'G43.1'</p></li>
</ul>
</section>
<section id="g43-2-apply-additional-tool-length-offset">
<span id="g432-apply-additional-tool-length-offset"></span><h2>G43.2: Apply additional Tool Length Offset<a class="headerlink" href="#g43-2-apply-additional-tool-length-offset" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G43.2 H-
</pre></div>
</div>
<ul class="simple">
<li><p>'H' - tool number</p></li>
</ul>
<p>G43.2 applies an additional simultaneous tool offset.</p>
<p>G43.2 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute mode)
T1 M6 (load tool 1)
G43 (or G43 H1 - replace all tool offsets with T1&#39;s offset)
G43.2 H10 (also add in T10&#39;s tool offset)
M2 (end program)
</pre></div>
</div>
<p>You can sum together an arbitrary number of offsets by calling G43.2 more times. There are no
built-in assumptions about which numbers are geometry offsets and which are wear offsets, or that
you should have only one of each.</p>
<p>Like the other G43 commands, G43.2 does not cause any motion. The next time a compensated axis is
moved, that axis’s endpoint is the compensated location.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>'H' is unspecified, or</p></li>
<li><p>the given tool number does not exist in the tool table</p></li>
</ul>
</section>
<section id="g49-cancel-tool-length-compensation">
<h2>G49: Cancel Tool Length Compensation<a class="headerlink" href="#g49-cancel-tool-length-compensation" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G49' - cancels tool length compensation</p></li>
</ul>
<p>It is OK to program using the same offset already in use. It is also OK to program using no tool
length offset if none is currently being used.</p>
</section>
<section id="g53-move-in-machine-coordinates">
<h2>G53 Move in Machine Coordinates<a class="headerlink" href="#g53-move-in-machine-coordinates" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G53 axes
</pre></div>
</div>
<p>To move in the <a class="reference external" href="#sec.machine-corrdinate-system">machine coordinate system</a>, program 'G53' on the
same line as a linear move. 'G53' is not modal and must be programmed on each line. 'G0' or 'G1'
does not have to be programmed on the same line if one is currently active.</p>
<p>For example 'G53 G0 X0 Y0 Z0' will move the axes to the home position even if the currently selected
coordinate system has offsets in effect.</p>
<p>G53 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G53 G0 X0 Y0 Z0 (rapid linear move to the machine origin)
G53 X2 (rapid linear move to absolute coordinate X2)
</pre></div>
</div>
<ul class="simple">
<li><p>See <a class="reference external" href="#gcode:g0">G0</a> section for more information.</p></li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>G53 is used without G0 or G1 being active,</p></li>
<li><p>or G53 is used while cutter compensation is on.</p></li>
</ul>
</section>
<section id="g54-g59-3-select-coordinate-system">
<span id="g54-g593-select-coordinate-system"></span><h2>G54-G59.3 Select Coordinate System<a class="headerlink" href="#g54-g59-3-select-coordinate-system" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G54' - select coordinate system 1</p></li>
<li><p>'G55' - select coordinate system 2</p></li>
<li><p>'G56' - select coordinate system 3</p></li>
<li><p>'G57' - select coordinate system 4</p></li>
<li><p>'G58' - select coordinate system 5</p></li>
<li><p>'G59' - select coordinate system 6</p></li>
<li><p>'G59.1' - select coordinate system 7</p></li>
<li><p>'G59.2' - select coordinate system 8</p></li>
<li><p>'G59.3' - select coordinate system 9</p></li>
</ul>
<p>The coordinate systems store the axis values and the XY rotation angle
around the Z axis in the parameters shown in the following table.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Select</p></th>
<th class="head"><p>CS</p></th>
<th class="head"><p>X</p></th>
<th class="head"><p>Y</p></th>
<th class="head"><p>Z</p></th>
<th class="head"><p>A</p></th>
<th class="head"><p>B</p></th>
<th class="head"><p>C</p></th>
<th class="head"><p>U</p></th>
<th class="head"><p>V</p></th>
<th class="head"><p>W</p></th>
<th class="head"><p>R</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>G54</p></td>
<td><p>1</p></td>
<td><p>5221</p></td>
<td><p>5222</p></td>
<td><p>5223</p></td>
<td><p>5224</p></td>
<td><p>5225</p></td>
<td><p>5226</p></td>
<td><p>5227</p></td>
<td><p>5228</p></td>
<td><p>5229</p></td>
<td><p>5230</p></td>
</tr>
<tr class="row-odd"><td><p>G55</p></td>
<td><p>2</p></td>
<td><p>5241</p></td>
<td><p>5242</p></td>
<td><p>5243</p></td>
<td><p>5244</p></td>
<td><p>5245</p></td>
<td><p>5246</p></td>
<td><p>5247</p></td>
<td><p>5248</p></td>
<td><p>5249</p></td>
<td><p>5250</p></td>
</tr>
<tr class="row-even"><td><p>G56</p></td>
<td><p>3</p></td>
<td><p>5261</p></td>
<td><p>5262</p></td>
<td><p>5263</p></td>
<td><p>5264</p></td>
<td><p>5265</p></td>
<td><p>5266</p></td>
<td><p>5267</p></td>
<td><p>5268</p></td>
<td><p>5269</p></td>
<td><p>5270</p></td>
</tr>
<tr class="row-odd"><td><p>G57</p></td>
<td><p>4</p></td>
<td><p>5281</p></td>
<td><p>5282</p></td>
<td><p>5283</p></td>
<td><p>5284</p></td>
<td><p>5285</p></td>
<td><p>5286</p></td>
<td><p>5287</p></td>
<td><p>5288</p></td>
<td><p>5289</p></td>
<td><p>5290</p></td>
</tr>
<tr class="row-even"><td><p>G58</p></td>
<td><p>5</p></td>
<td><p>5301</p></td>
<td><p>5302</p></td>
<td><p>5303</p></td>
<td><p>5304</p></td>
<td><p>5305</p></td>
<td><p>5306</p></td>
<td><p>5307</p></td>
<td><p>5308</p></td>
<td><p>5309</p></td>
<td><p>5310</p></td>
</tr>
<tr class="row-odd"><td><p>G59</p></td>
<td><p>6</p></td>
<td><p>5321</p></td>
<td><p>5322</p></td>
<td><p>5323</p></td>
<td><p>5324</p></td>
<td><p>5325</p></td>
<td><p>5326</p></td>
<td><p>5327</p></td>
<td><p>5328</p></td>
<td><p>5329</p></td>
<td><p>5330</p></td>
</tr>
<tr class="row-even"><td><p>G59.1</p></td>
<td><p>7</p></td>
<td><p>5341</p></td>
<td><p>5342</p></td>
<td><p>5343</p></td>
<td><p>5344</p></td>
<td><p>5345</p></td>
<td><p>5346</p></td>
<td><p>5347</p></td>
<td><p>5348</p></td>
<td><p>5349</p></td>
<td><p>5350</p></td>
</tr>
<tr class="row-odd"><td><p>G59.2</p></td>
<td><p>8</p></td>
<td><p>5361</p></td>
<td><p>5362</p></td>
<td><p>5363</p></td>
<td><p>5364</p></td>
<td><p>5365</p></td>
<td><p>5366</p></td>
<td><p>5367</p></td>
<td><p>5368</p></td>
<td><p>5369</p></td>
<td><p>5370</p></td>
</tr>
<tr class="row-even"><td><p>G59.3</p></td>
<td><p>9</p></td>
<td><p>5381</p></td>
<td><p>5382</p></td>
<td><p>5383</p></td>
<td><p>5384</p></td>
<td><p>5385</p></td>
<td><p>5386</p></td>
<td><p>5387</p></td>
<td><p>5388</p></td>
<td><p>5389</p></td>
<td><p>5390</p></td>
</tr>
</tbody>
</table>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>selecting a coordinate system is used while cutter compensation is on.</p></li>
</ul>
<p>See the <a class="reference external" href="#cha:coordinate-system">Coordinate System</a> Section for an overview of coordinate
systems.</p>
</section>
<section id="g61-g61-1-exact-path-mode">
<span id="g61-g611-exact-path-mode"></span><h2>G61, G61.1 Exact Path Mode<a class="headerlink" href="#g61-g61-1-exact-path-mode" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>'G61' - Exact path mode, movement exactly as programed. Moves will slow or stop as needed to reach</dt><dd><p>every programed point. If two sequential moves are exactly co-linear movement will not stop.</p>
</dd>
</dl>
</li>
<li><p>'G61.1' - Exact stop mode, movement will stop at the end of each programed segment.</p></li>
</ul>
</section>
<section id="g64-path-blending">
<h2>G64 Path Blending<a class="headerlink" href="#g64-path-blending" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G64 &lt;P- &lt;Q-&gt;&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'P' - motion blending tolerance</p></li>
<li><p>'Q' - naive cam tolerance</p></li>
<li><p>'G64' - best possible speed.</p></li>
<li><p>'G64 P- &lt;Q- &gt;' blending with tolerance.</p></li>
<li><dl class="simple">
<dt>'G64' - without P means to keep the best speed possible, no matter how far away from the</dt><dd><p>programmed point you end up.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G64 P- Q-' - is a way to fine tune your system for best compromise between speed and</dt><dd><p>accuracy. The P- tolerance means that the actual path will be no more than P- away from the
programmed endpoint. The velocity will be reduced if needed to maintain the path. In addition,
when you activate G64 P- Q- it turns on the 'naive cam detector'; when there are a series of
linear XYZ feed moves at the same <a class="reference external" href="#sec:set-feed-rate">feed rate</a> that are less than Q- away
from being collinear, they are collapsed into a single linear move. On G2/G3 moves in the G17
(XY) plane when the maximum deviation of an arc from a straight line is less than the G64 P-
tolerance the arc is broken into two lines (from start of arc to midpoint, and from midpoint to
end). those lines are then subject to the naive cam algorithm for lines. Thus, line-arc, arc-arc,
and arc-line cases as well as line-line benefit from the 'naive cam detector'. This improves
contouring performance by simplifying the path. It is OK to program for the mode that is already
active. See also the <a class="reference external" href="#sec:trajectory-control">Trajectory Control</a> Section for more
information on these modes. If Q is not specified then it will have the same behavior as before
and use the value of P-.</p>
</dd>
</dl>
</li>
</ul>
<p>G64 P- Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G64 P0.015 (set path following to be within 0.015 of the actual path)
</pre></div>
</div>
<p>It is a good idea to include a path control specification in the preamble of each G code file.</p>
</section>
<section id="g73-drilling-cycle-with-chip-breaking">
<h2>G73 Drilling Cycle with Chip Breaking<a class="headerlink" href="#g73-drilling-cycle-with-chip-breaking" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G73 X- Y- Z- R- Q- &lt;L-&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>'R' - retract position along the Z axis.</p></li>
<li><p>'Q' - delta increment along the Z axis.</p></li>
<li><p>'L' - repeat</p></li>
</ul>
<p>The 'G73' cycle is drilling or milling with chip breaking. This cycle takes a Q number which
represents a 'delta' increment along the Z axis.</p>
<ol class="arabic simple">
<li><p>Preliminary motion.</p>
<ul class="simple">
<li><p>If the current Z position is below the R position, The Z axis does a <a class="reference external" href="#gcode:g0">rapid move</a>
to the R position.</p></li>
<li><p>Move to the X Y coordinates</p></li>
</ul>
</li>
<li><p>Move the Z-axis only at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> downward by delta or to
the Z position, whichever is less deep.</p></li>
<li><p>Rapid up a bit.</p></li>
<li><p>Repeat steps 2 and 3 until the Z position is reached at step 2.</p></li>
<li><p>The Z axis does a rapid move to the R position.</p></li>
</ol>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the Q number is negative or zero.</p></li>
<li><p>the R number is not specified</p></li>
</ul>
</section>
<section id="g74-left-hand-tapping-cycle-dwell">
<h2>G74 Left-hand Tapping Cycle, Dwell<a class="headerlink" href="#g74-left-hand-tapping-cycle-dwell" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G74 (X- Y- Z-) or (U- V- W-) R- L- P- $-
</pre></div>
</div>
<p>The 'G74' cycle is intended for tapping with floating chuck and dwell at the bottom of the hole.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Disable Feed and Speed Overrides.</p></li>
<li><p>Move the Z-axis at the current feed rate to the Z position.</p></li>
<li><p>Stop the selected spindle (chosen by the $ parameter)</p></li>
<li><p>Start spindle rotation clockwise.</p></li>
<li><p>Dwell for the P number of seconds.</p></li>
<li><p>Move the Z-axis at the current feed rate to clear Z</p></li>
<li><p>Restore Feed and Speed override enables to previous state</p></li>
</ol>
<p>The length of the dwell is specified by a 'P-' word in the G84 block.  Thread pitch is F divided
by S. In example S100 F125 gives pitch of 1.25MM per revolution.</p>
</section>
<section id="g76-threading-cycle">
<h2>G76 Threading Cycle<a class="headerlink" href="#g76-threading-cycle" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G76 P- Z- I- J- R- K- Q- H- E- L- $-
</pre></div>
</div>
<p><img alt="G76 Threading" src="../../_images/g76-threads.png" /></p>
<p>Figure 3. G76 Threading</p>
<ul class="simple">
<li><p>'Drive Line' - A line through the initial X position parallel to the Z.</p></li>
<li><p>'P-' - The 'thread pitch' in distance per revolution.</p></li>
<li><p>'Z-' - The final position of threads. At the end of the cycle the tool will be at this Z position.</p></li>
<li><dl class="simple">
<dt>'I-' - The 'thread peak' offset from the 'drive line'. Negative 'I' values are external threads,</dt><dd><p>and positive 'I' values are internal threads. Generally the material has been turned to this size
before the 'G76' cycle.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'J-' - A positive value specifying the 'initial cut depth'. The first threading cut will be 'J'</dt><dd><p>beyond the 'thread peak' position.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'K-' - A positive value specifying the 'full thread depth'. The final threading cut will be 'K'</dt><dd><p>beyond the 'thread peak' position.</p>
</dd>
</dl>
</li>
</ul>
<p>Optional settings</p>
<ul class="simple">
<li><dl class="simple">
<dt>'$-' - The spindle number to which the motion will be synchronised (default 0). For example is $1</dt><dd><p>is programmed then the motion will begin on the reset od spindle.1.index-enable and proceed in
synchrony with the value of spindle.1.revs</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'R-' - The 'depth degression'. 'R1.0' selects constant depth on successive threading</dt><dd><p>passes. 'R2.0' selects constant area. Values between 1.0 and 2.0 select decreasing depth but
increasing area.  Values above 2.0 select decreasing area. Beware that unnecessarily high
degression values will cause a large number of passes to be used. (degression = a descent by
stages or steps.)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'Q-' - The 'compound slide angle' is the angle (in degrees) describing to what extent successive</dt><dd><p>passes should be offset along the drive line. This is used to cause one side of the tool to
remove more material than the other. A positive 'Q' value causes the leading edge of the tool to
cut more heavily. Typical values are 29, 29.5 or 30.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'H-' - The number of 'spring passes'. Spring passes are additional passes at full thread depth. If</dt><dd><p>no additional passes are desired, program 'H0'.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'E-' - Specifies the distance along the drive line used for the taper. The angle of the taper will</dt><dd><p>be so the last pass tapers to the thread crest over the distance specified with E.' E0.2' will
give a taper for the first/last 0.2 length units along the thread. For a 45 degree taper program
E the same as K</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'L-' - Specifies which ends of the thread get the taper. Program 'L0' for no taper (the default),</dt><dd><p>'L1' for entry taper, 'L2' for exit taper, or 'L3' for both entry and exit tapers. Entry tapers
will pause at the drive line to synchronize with the index pulse then move at the <a class="reference external" href="#sec:set-feed-rate">feed rate</a> in to the beginning of the taper. No entry taper and the tool will rapid
to the cut depth then synchronize and begin the cut.</p>
</dd>
</dl>
</li>
</ul>
<p>The tool is moved to the initial X and Z positions prior to issuing the G76. The X position is the
'drive line' and the Z position is the start of the threads.</p>
<p>The tool will pause briefly for synchronization before each threading pass, so a relief groove will
be required at the entry unless the beginning of the thread is past the end of the material or an
entry taper is used.</p>
<p>Unless using an exit taper, the exit move is not synchronized to the spindle speed and will be a
<a class="reference external" href="#gcode:g0">rapid move</a>. With a slow spindle, the exit move might take only a small fraction of a
revolution.  If the spindle speed is increased after several passes are complete, subsequent exit
moves will require a larger portion of a revolution, resulting in a very heavy cut during the exit
move. This can be avoided by providing a relief groove at the exit, or by not changing the spindle
speed while threading.</p>
<p>The final position of the tool will be at the end of the 'drive line'. A safe Z move will be needed
with an internal thread to remove the tool from the hole.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>The active plane is not the ZX plane</p></li>
<li><p>Other axis words, such as X- or Y-, are specified</p></li>
<li><p>The 'R-' degression value is less than 1.0.</p></li>
<li><p>All the required words are not specified</p></li>
<li><p>'P-', 'J-', 'K-' or 'H-' is negative</p></li>
<li><p>'E-' is greater than half the drive line length</p></li>
</ul>
<p>HAL Connections</p>
<p>The pins 'spindle.N.at-speed' and the 'encoder.n.phase-Z' for the spindle must be connected in your
HAL file before G76 will work. See the <a class="reference external" href="#sec:motion-pins">spindle</a> pins in the Motion section for
more information.</p>
<p>Technical Info</p>
<p>The G76 canned cycle is based on the G33 Spindle Synchronized Motion.  For more information see the
G33 <a class="reference external" href="#gcode:g33-tech-info">Technical Info</a>.</p>
<p>The sample program 'g76.ngc' shows the use of the G76 canned cycle, and can be previewed and
executed on any machine using the 'sim/lathe.ini' configuration.</p>
<p>G76 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 Z-0.5 X0.2
G76 P0.05 Z-1 I-.075 J0.008 K0.045 Q29.5 L2 E0.045
</pre></div>
</div>
<p>In the figure the tool is in the final position after the G76 cycle is completed. You can see the
entry path on the right from the Q29.5 and the exit path on the left from the L2 E0.045. The white
lines are the cutting moves.</p>
<p><img alt="G76 Example" src="../../_images/g76-01.png" /></p>
<p>Figure 4. G76 Example</p>
</section>
<section id="canned-cycles">
<h2>Canned Cycles<a class="headerlink" href="#canned-cycles" title="Link to this heading"></a></h2>
<p>The canned cycles 'G81' through 'G89' and the canned cycle stop 'G80'
are described in this section.</p>
<p>All canned cycles are performed with respect to the currently-selected plane. Any of the nine planes
may be selected. Throughout this section, most of the descriptions assume the XY-plane has been
selected. The behavior is analogous if another plane is selected, and the correct words must be
used. For instance, in the 'G17.1' plane, the action of the canned cycle is along W, and the
locations or increments are given with U and V. In this case substitute U,V,W for X,Y,Z in the
instructions below.</p>
<p>Rotary axis words are not allowed in canned cycles. When the active plane is one of the XYZ family,
the UVW axis words are not allowed.  Likewise, when the active plane is one of the UVW family, the
XYZ axis words are not allowed.</p>
<section id="common-words">
<h3>Common Words<a class="headerlink" href="#common-words" title="Link to this heading"></a></h3>
<p>All canned cycles use X, Y, Z, or U, V, W groups depending on the plane selected and R words. The R
(usually meaning retract) position is along the axis perpendicular to the currently selected plane
(Z-axis for XY-plane, etc.) Some canned cycles use additional arguments.</p>
</section>
<section id="sticky-words">
<h3>Sticky Words<a class="headerlink" href="#sticky-words" title="Link to this heading"></a></h3>
<p>For canned cycles, we will call a number 'sticky' if, when the same cycle is used on several lines
of code in a row, the number must be used the first time, but is optional on the rest of the
lines. Sticky numbers keep their value on the rest of the lines if they are not explicitly
programmed to be different. The R number is always sticky.</p>
<p>In incremental distance mode X, Y, and R numbers are treated as increments from the current position
and Z as an increment from the Z-axis position before the move involving Z takes place. In absolute
distance mode, the X, Y, R, and Z numbers are absolute positions in the current coordinate system.</p>
</section>
<section id="repeat-cycle">
<h3>Repeat Cycle<a class="headerlink" href="#repeat-cycle" title="Link to this heading"></a></h3>
<p>The L number is optional and represents the number of repeats. L=0 is not allowed. If the repeat
feature is used, it is normally used in incremental distance mode, so that the same sequence of
motions is repeated in several equally spaced places along a straight line. When L- is greater than
1 in incremental mode with the XY-plane selected, the X and Y positions are determined by adding the
given X and Y numbers either to the current X and Y positions (on the first go-around) or to the X
and Y positions at the end of the previous go-around (on the repetitions). Thus, if you program
'L10' , you will get 10 cycles. The first cycle will be distance X,Y from the original location. The
R and Z positions do not change during the repeats. The L number is not sticky.  In absolute
distance mode, L&gt;1 means 'do the same cycle in the same place several times', Omitting the L word is
equivalent to specifying L=1.</p>
</section>
<section id="retract-mode">
<h3>Retract Mode<a class="headerlink" href="#retract-mode" title="Link to this heading"></a></h3>
<p>The height of the retract move at the end of each repeat (called 'clear Z' in the descriptions
below) is determined by the setting of the retract mode: either to the original Z position (if that
is above the R position and the retract mode is 'G98', OLD_Z), or otherwise to the R position. See
the <a class="reference external" href="#gcode:g98-g99">G98 G99</a> Section.</p>
</section>
<section id="canned-cycle-errors">
<h3>Canned Cycle Errors<a class="headerlink" href="#canned-cycle-errors" title="Link to this heading"></a></h3>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>axis words are all missing during a canned cycle,</p></li>
<li><p>axis words from different groups (XYZ) (UVW) are used together,</p></li>
<li><p>a P number is required and a negative P number is used,</p></li>
<li><p>an L number is used that does not evaluate to a positive integer,</p></li>
<li><p>rotary axis motion is used during a canned cycle,</p></li>
<li><p>inverse time feed rate is active during a canned cycle,</p></li>
<li><p>or cutter compensation is active during a canned cycle.</p></li>
</ul>
<p>If the XY plane is active, the Z number is sticky, and it is an error if:</p>
<ul class="simple">
<li><p>the Z number is missing and the same canned cycle was not already active,</p></li>
<li><p>or the R number is less than the Z number.</p></li>
</ul>
<p>If other planes are active, the error conditions are analogous to the XY conditions above.</p>
</section>
<section id="preliminary-and-in-between-motion">
<h3>Preliminary and In-Between Motion<a class="headerlink" href="#preliminary-and-in-between-motion" title="Link to this heading"></a></h3>
<p>Preliminary motion is a set of motions that is common to all of the milling canned cycles. If the
current Z position is below the R position, the Z axis does a <a class="reference external" href="#gcode:g0">rapid move</a> to the R
position. This happens only once, regardless of the value of L.</p>
<p>In addition, at the beginning of the first cycle and each repeat, the following one or two moves are
made</p>
<ol class="arabic simple">
<li><p>A <a class="reference external" href="#gcode:g0">rapid move</a> parallel to the XY-plane to the given XY-position,</p></li>
<li><p>The Z-axis make a rapid move to the R position, if it is not already at the R position.</p></li>
</ol>
<p>If another plane is active, the preliminary and in-between motions are analogous.</p>
</section>
<section id="why-use-a-canned-cycle">
<h3>Why use a canned cycle?<a class="headerlink" href="#why-use-a-canned-cycle" title="Link to this heading"></a></h3>
<p>There are at least two reasons for using canned cycles. The first is the economy of code. A single
bore would take several lines of code to execute.</p>
<p>The G81 <a class="reference external" href="#gcode:g81-example">Example 1</a> demonstrates how a canned cycle could be used to produce
8 holes with ten lines of G code within the canned cycle mode. The program below will produce the
same set of 8 holes using five lines for the canned cycle. It does not follow exactly the same path
nor does it drill in the same order as the earlier example. But the program writing economy of a
good canned cycle should be obvious.</p>
<p>Eight Holes</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N100 G90 G0 X0 Y0 Z0 (move coordinate home)
N110 G1 F10 X0 G4 P0.1
N120 G91 G81 X1 Y0 Z-1 R1 L4(canned drill cycle)
N130 G90 G0 X0 Y1
N140 Z0
N150 G91 G81 X1 Y0 Z-0.5 R1 L4(canned drill cycle)
N160 G80 (turn off canned cycle)
N170 M2 (program end)
</pre></div>
</div>
<p>The G98 to the second line above means that the return move will be to the value of Z in the first
line since it is higher that the R value specified.</p>
<p><img alt="eight" src="../../_images/eight.png" /></p>
<p>Twelve Holes in a Square</p>
<p>This example demonstrates the use of the L word to repeat a set of incremental drill cycles for
successive blocks of code within the same G81 motion mode. Here we produce 12 holes using five lines
of code in the canned motion mode.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N1000 G90 G0 X0 Y0 Z0 (move coordinate home)
N1010 G1 F50 X0 G4 P0.1
N1020 G91 G81 X1 Y0 Z-0.5 R1 L4 (canned drill cycle)
N1030 X0 Y1 R0 L3 (repeat)
N1040 X-1 Y0 L3 (repeat)
N1050 X0 Y-1 L2 (repeat)
N1060 G80 (turn off canned cycle)
N1070 G90 G0 X0 (rapid move home)
N1080 Y0
N1090 Z0
N1100 M2 (program end)
</pre></div>
</div>
<p><img alt="twelve" src="../../_images/twelve.png" /></p>
<p>The second reason to use a canned cycle is that they all produce
preliminary moves and returns that you can anticipate and control
regardless of the start point of the canned cycle.</p>
</section>
</section>
<section id="g80-cancel-canned-cycle">
<h2>G80 Cancel Canned Cycle<a class="headerlink" href="#g80-cancel-canned-cycle" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G80' - cancel canned cycle modal motion. 'G80' is part of modal group 1, so programming any other
G code from modal group 1 will also cancel the canned cycle.</p></li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>Axis words are programmed when G80 is active.</p></li>
</ul>
<p>G80 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G80 (turn off canned cycle motion)
G0 X0 Y0 Z0 (rapid move to coordinate home)
</pre></div>
</div>
<p>The following code produces the same final position and machine state as the previous code.</p>
<p>G0 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G0 X0 Y0 Z0 (rapid move to coordinate home)
</pre></div>
</div>
<p>The advantage of the first set is that, the G80 line clearly turns off the G81 canned cycle. With
the first set of blocks, the programmer must turn motion back on with G0, as is done in the next
line, or any other motion mode G word.</p>
<p>If a canned cycle is not turned off with G80 or another motion word, the canned cycle will attempt
to repeat itself using the next block of code that contains an X, Y, or Z word. The following file
drills (G81) a set of eight holes as shown in the following caption.</p>
<p>G80 Example 1</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>N100 G90 G0 X0 Y0 Z0 (coordinate home)
N110 G1 X0 G4 P0.1
N120 G81 X1 Y0 Z0 R1 (canned drill cycle)
N130 X2
N140 X3
N150 X4
N160 Y1 Z0.5
N170 X3
N180 X2
N190 X1
N200 G80 (turn off canned cycle)
N210 G0 X0 (rapid move home)
N220 Y0
N230 Z0
N240 M2 (program end)
</pre></div>
</div>
<p><img alt="G80 Cycle" src="../../_images/G81mult.png" /></p>
<p>Figure 5. G80 Cycle</p>
<p>The use of G80 in line N200 is optional because the G0 on the next line will turn off the G81
cycle. But using the G80 as shown in Example 1, will provide for easier to read canned
cycle. Without it, it is not so obvious that all of the blocks between N120 and N200 belong to the
canned cycle.</p>
</section>
<section id="g81-drilling-cycle">
<h2>G81 Drilling Cycle<a class="headerlink" href="#g81-drilling-cycle" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G81 (X- Y- Z-) or (U- V- W-) R- L-
</pre></div>
</div>
<p>The 'G81' cycle is intended for drilling.</p>
<p>The cycle functions as follows:</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Move the Z-axis at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to the Z position.</p></li>
<li><p>The Z-axis does a <a class="reference external" href="#gcode:g0">rapid move</a> to clear Z.</p></li>
</ol>
<p>Example 1 - Absolute Position G81</p>
<p>Suppose the current position is (X1, Y2, Z3) and the following line of NC code is interpreted.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G98 G81 X4 Y5 Z1.5 R2.8
</pre></div>
</div>
<p>This calls for absolute distance mode (G90) and OLD_Z retract mode (G98)
and calls for the G81 drilling cycle to be performed once.</p>
<p>The X value and X position are 4.</p>
<p>The Y value and Y position are 5.</p>
<p>The Z value and Z position are 1.5.</p>
<p>The R value and clear Z are 2.8. OLD_Z is 3.</p>
<p>The following moves take place:</p>
<ol class="arabic simple">
<li><p>a <a class="reference external" href="#gcode:g0">rapid move</a> parallel to the XY plane to (X4, Y5)</p></li>
<li><p>a rapid move move parallel to the Z-axis to (Z2.8).</p></li>
<li><p>move parallel to the Z-axis at the <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to (Z1.5)</p></li>
<li><p>a rapid move parallel to the Z-axis to (Z3)</p></li>
</ol>
<p><img alt="G81ex1" src="../../_images/G81ex1.png" /></p>
<p>Example 2 - Relative Position G81</p>
<p>Suppose the current position is (X1, Y2, Z3) and the following line of NC code is interpreted.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G91 G98 G81 X4 Y5 Z-0.6 R1.8 L3
</pre></div>
</div>
<p>This calls for incremental distance mode (G91) and OLD_Z retract mode (G98). It also calls for the
G81 drilling cycle to be repeated three times. The X value is 4, the Y value is 5, the Z value is
-0.6 and the R value is 1.8. The initial X position is 5 (=1+4), the initial Y position is 7 (=2+5),
the clear Z position is 4.8 (=1.8+3), and the Z position is 4.2 (=4.8-0.6). OLD_Z is 3.</p>
<p>The first preliminary move is a maximum rapid move along the Z axis to (X1,Y2,Z4.8), since OLD_Z &lt;
clear Z.</p>
<p>The first repeat consists of 3 moves.</p>
<ol class="arabic simple">
<li><p>a <a class="reference external" href="#gcode:g0">rapid move</a> parallel to the XY-plane to (X5, Y7)</p></li>
<li><p>move parallel to the Z-axis at the <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to (Z4.2)</p></li>
<li><p>a rapid move parallel to the Z-axis to (X5, Y7, Z4.8)</p></li>
</ol>
<p>The second repeat consists of 3 moves. The X position is reset to 9 (=5+4) and the Y position to 12
(=7+5).</p>
<ol class="arabic simple">
<li><p>a <a class="reference external" href="#gcode:g0">rapid move</a> parallel to the XY-plane to (X9, Y12, Z4.8)</p></li>
<li><p>move parallel to the Z-axis at the feed rate to (X9, Y12, Z4.2)</p></li>
<li><p>a rapid move parallel to the Z-axis to (X9, Y12, Z4.8)</p></li>
</ol>
<p>The third repeat consists of 3 moves. The X position is reset to 13 (=9+4) and the Y position to 17
(=12+5).</p>
<ol class="arabic simple">
<li><p>a <a class="reference external" href="#gcode:g0">rapid move</a> parallel to the XY-plane to (X13, Y17, Z4.8)</p></li>
<li><p>move parallel to the Z-axis at the feed rate to (X13, Y17, Z4.2)</p></li>
<li><p>a rapid move parallel to the Z-axis to (X13, Y17, Z4.8)</p></li>
</ol>
<p><img alt="G81ex2" src="../../_images/G81ex2.png" /></p>
<p>Example 3 - Relative Position G81</p>
<p>Now suppose that you execute the first G81 block of code but from (X0, Y0, Z0) rather than from (X1,
Y2, Z3).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G98 G81 X4 Y5 Z1.5 R2.8
</pre></div>
</div>
<p>Since OLD_Z is below the R value, it adds nothing for the motion but since the initial value of Z is
less than the value specified in R, there will be an initial Z move during the preliminary moves.</p>
<p><img alt="G81" src="../../_images/G81.png" /></p>
<p>Example 4 - Absolute G81 R &gt; Z</p>
<p>This is a plot of the path of motion for the second g81 block of code.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G91 G98 G81 X4 Y5 Z-0.6 R1.8 L3
</pre></div>
</div>
<p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the initial Z0 and R1.8 and rapid
moves to that location. After that initial Z move, the repeat feature works the same as it did in
example 3 with the final Z depth being 0.6 below the R value.</p>
<p><img alt="G81a" src="../../_images/G81a.png" /></p>
<p>Example 5 - Relative position R &gt; Z</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 G98 G81 X4 Y5 Z-0.6 R1.8
</pre></div>
</div>
<p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the initial Z0 and R1.8 and rapid
moves to that location as in 'Example 4'.  After that initial Z move, the <a class="reference external" href="#gcode:g0">rapid move</a>
to X4 Y5 is done. Then the final Z depth being 0.6 below the R value. The repeat function would make
the Z move in the same location again.</p>
</section>
<section id="g82-drilling-cycle-dwell">
<h2>G82 Drilling Cycle, Dwell<a class="headerlink" href="#g82-drilling-cycle-dwell" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G82 (X- Y- Z-) or (U- V- W-) R- L- P-
</pre></div>
</div>
<p>The 'G82' cycle is intended for drilling with a dwell at the bottom of the hole.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Move the Z-axis at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to the Z position.</p></li>
<li><p>Dwell for the P number of seconds.</p></li>
<li><p>The Z-axis does a <a class="reference external" href="#gcode:g0">rapid move</a> to clear Z.</p></li>
</ol>
<p>The motion of a G82 canned cycle looks just like G81 with the addition of a dwell at the bottom of
the Z move. The length of the dwell is specified by a 'P-' word in the G82 block.</p>
</section>
<section id="g83-peck-drilling-cycle">
<h2>G83 Peck Drilling Cycle<a class="headerlink" href="#g83-peck-drilling-cycle" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G83 (X- Y- Z-) or (U- V- W-) R- L- Q-
</pre></div>
</div>
<p>The 'G83' cycle (often called peck drilling) is intended for deep drilling or milling with chip
breaking. The retracts in this cycle clear the hole of chips and cut off any long stringers (which
are common when drilling in aluminum). This cycle takes a Q number which represents a 'delta'
increment along the Z-axis. The retract before final depth will always be to the 'retract' plane
even if G98 is in effect. The final retract will honor the G98/99 in effect. G83 functions the same
as G81 with the addition of retracts during the drilling operation.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Move the Z-axis at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> downward by delta or to the Z
position, whichever is less deep.</p></li>
<li><p>Rapid move back out to the retract plane specified by the R word.</p></li>
<li><p>Rapid move back down to the current hole bottom, backed off a bit.</p></li>
<li><p>Repeat steps 2, 3, and 4 until the Z position is reached at step 2.</p></li>
<li><p>The Z-axis does a <a class="reference external" href="#gcode:g0">rapid move</a> to clear Z.</p></li>
</ol>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the Q number is negative or zero.</p></li>
</ul>
</section>
<section id="g84-right-hand-tapping-cycle-dwell">
<h2>G84 Right-hand Tapping Cycle, Dwell<a class="headerlink" href="#g84-right-hand-tapping-cycle-dwell" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G84 (X- Y- Z-) or (U- V- W-) R- L- P- $-
</pre></div>
</div>
<p>The 'G84' cycle is intended for tapping with floating chuck and dwell at the bottom of the hole.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Disable Feed and Speed Overrides.</p></li>
<li><p>Move the Z-axis at the current feed rate to the Z position.</p></li>
<li><p>Stop the seleted spindle (chosen by the $ parameter)</p></li>
<li><p>Start spindle rotation counterclockwise.</p></li>
<li><p>Dwell for the P number of seconds.</p></li>
<li><p>Move the Z-axis at the current feed rate to clear Z</p></li>
<li><p>Restore Feed and Speed override enables to previous state</p></li>
</ol>
<p>The length of the dwell is specified by a 'P-' word in the G84 block.  Thread pitch is F divided
by S. In example S100 F125 gives pitch of 1.25MM per revolution.</p>
</section>
<section id="g85-boring-cycle-feed-out">
<h2>G85 Boring Cycle, Feed Out<a class="headerlink" href="#g85-boring-cycle-feed-out" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G85 (X- Y- Z-) or (U- V- W-) R- L-
</pre></div>
</div>
<p>The 'G85' cycle is intended for boring or reaming, but could be used for drilling or milling.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between
Motion</a> section.</p></li>
<li><p>Move the Z-axis only at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to the Z position.</p></li>
<li><p>Retract the Z-axis at the current feed rate to the R plane if it is lower than the initial Z.</p></li>
<li><p>Retract at the traverse rate to clear Z.</p></li>
</ol>
</section>
<section id="g86-boring-cycle-spindle-stop-rapid-move-out">
<h2>G86 Boring Cycle, Spindle Stop, Rapid Move Out<a class="headerlink" href="#g86-boring-cycle-spindle-stop-rapid-move-out" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G86 (X- Y- Z-) or (U- V- W-) R- L- P- $-
</pre></div>
</div>
<p>The 'G86' cycle is intended for boring. This cycle uses a P number for the number of seconds to
dwell.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Move the Z-axis only at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to the Z position.</p></li>
<li><p>Dwell for the P number of seconds.</p></li>
<li><p>Stop the selected spindle turning. (Chosen by the $ parameter)</p></li>
<li><p>The Z-axis does a <a class="reference external" href="#gcode:g0">rapid move</a> to clear Z.</p></li>
<li><p>Restart the spindle in the direction it was going.</p></li>
</ol>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>the spindle is not turning before this cycle is executed.</p></li>
</ul>
</section>
<section id="g87-back-boring-cycle">
<h2>G87 Back Boring Cycle<a class="headerlink" href="#g87-back-boring-cycle" title="Link to this heading"></a></h2>
<p>This code is currently unimplemented in LinuxCNC. It is accepted, but the behavior is undefined.</p>
</section>
<section id="g88-boring-cycle-spindle-stop-manual-out">
<h2>G88 Boring Cycle, Spindle Stop, Manual Out<a class="headerlink" href="#g88-boring-cycle-spindle-stop-manual-out" title="Link to this heading"></a></h2>
<p>This code is currently unimplemented in LinuxCNC. It is accepted, but the behavior is undefined.</p>
</section>
<section id="g89-boring-cycle-dwell-feed-out">
<h2>G89 Boring Cycle, Dwell, Feed Out<a class="headerlink" href="#g89-boring-cycle-dwell-feed-out" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G89 (X- Y- Z-) or (U- V- W-) R- L- P-
</pre></div>
</div>
<p>The 'G89' cycle is intended for boring. This cycle uses a P number, where P specifies the number of
seconds to dwell.</p>
<ol class="arabic simple">
<li><p>Preliminary motion, as described in the <a class="reference external" href="#gcode:preliminary-motion">Preliminary and In-Between Motion</a> section.</p></li>
<li><p>Move the Z-axis only at the current <a class="reference external" href="#sec:set-feed-rate">feed rate</a> to the Z position.</p></li>
<li><p>Dwell for the P number of seconds.</p></li>
<li><p>Retract the Z-axis at the current feed rate to clear Z.</p></li>
</ol>
</section>
<section id="g90-g91-distance-mode">
<h2>G90, G91 Distance Mode<a class="headerlink" href="#g90-g91-distance-mode" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>'G90' - absolute distance mode In absolute distance mode, axis numbers (X, Y, Z, A, B, C, U, V, W)</dt><dd><p>usually represent positions in terms of the currently active coordinate system. Any exceptions to
that rule are described explicitly in the <a class="reference external" href="#gcode:g80-g89">G80 G89</a> Section.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G91' - incremental distance mode In incremental distance mode, axis numbers usually represent</dt><dd><p>increments from the current coordinate.</p>
</dd>
</dl>
</li>
</ul>
<p>G90 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G90 (set absolute distance mode)
G0 X2.5 (rapid move to coordinate X2.5 including any offsets in effect)
</pre></div>
</div>
<p>G91 Example</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G91 (set incremental distance mode)
G0 X2.5 (rapid move 2.5 from current position along the X axis)
</pre></div>
</div>
<ul class="simple">
<li><p>See <a class="reference external" href="#gcode:g0">G0</a> section for more information.</p></li>
</ul>
</section>
<section id="g90-1-g91-1-arc-distance-mode">
<span id="g901-g911-arc-distance-mode"></span><h2>G90.1, G91.1 Arc Distance Mode<a class="headerlink" href="#g90-1-g91-1-arc-distance-mode" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>'G90.1' - absolute distance mode for I, J &amp; K offsets. When G90.1 is in effect I and J both must</dt><dd><p>be specified with G2/3 for the XY plane or J and K for the XZ plane or it is an error.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G91.1' - incremental distance mode for I, J &amp; K offsets. G91.1 Returns I, J &amp; K to their default</dt><dd><p>behavior.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="g92-coordinate-system-offset">
<h2>G92 Coordinate System Offset<a class="headerlink" href="#g92-coordinate-system-offset" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G92 axes
</pre></div>
</div>
<p>'G92' makes the current point have the coordinates you want (without motion), where the axis words
contain the axis numbers you want. All axis words are optional, except that at least one must be
used. If an axis word is not used for a given axis, the offset for that axis will be zero.</p>
<p>When 'G92' is executed, the <a class="reference external" href="#sec.machine-corrdinate-system">origins</a> of all coordinate systems
move. They move such that the value of the current controlled point, in the currently active
coordinate system, becomes the specified value. All of the coordinate system’s origins (G53-G59.3)
are offset this same distance.</p>
<p>'G92' uses the values stored in <a class="reference external" href="#sub:numbered-parameters">parameters</a> 5211-5219 as the X Y Z A B
C U V W offset values for each axis. The parameter values are 'absolute' machine coordinates in the
native machine 'units' as specified in the ini file. All axes defined in the ini file will be offset
when G92 is active. If an axis was not entered following the G92, that axis' offset will be zero.</p>
<p>For example, suppose the current point is at X=4 and there is currently no 'G92' offset active. Then
'G92 X7' is programmed. This moves all origins -3 in X, which causes the current point to become
X=7. This -3 is saved in parameter 5211.</p>
<p>Being in incremental distance mode (G91 instead of G90) has no effect on the action of 'G92'.</p>
<p>'G92' offsets may be already be in effect when the 'G92' is called. If this is the case, the offset
is replaced with a new offset that makes the current point become the specified value.</p>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>all axis words are omitted.</p></li>
</ul>
<p>LinuxCNC stores the G92 offsets and reuses them on the next run of a program. To prevent this, one
can program a G92.1 (to erase them), or program a G92.2 (to remove them - they are still stored).</p>
<p>See the <a class="reference external" href="#cha:coordinate-system">Coordinate System</a> Section for an
overview of coordinate systems.</p>
<p>See the <a class="reference external" href="#gcode:parameters">Parameters</a> Section for more information.</p>
</section>
<section id="g92-1-g92-2-reset-g92-offsets">
<span id="g921-g922-reset-g92-offsets"></span><h2>G92.1, G92.2 Reset G92 Offsets<a class="headerlink" href="#g92-1-g92-2-reset-g92-offsets" title="Link to this heading"></a></h2>
<ul class="simple">
<li><dl class="simple">
<dt>'G92.1' - turn off G92 offsets and reset</dt><dd><p><a class="reference external" href="#sub:numbered-parameters">parameters</a> 5211 - 5219 to zero.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G92.2' - turn off G92 offsets but keep</dt><dd><p><a class="reference external" href="#sub:numbered-parameters">parameters</a> 5211 - 5219 available.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="g92-3-restore-g92-offsets">
<span id="g923-restore-g92-offsets"></span><h2>G92.3 Restore G92 Offsets<a class="headerlink" href="#g92-3-restore-g92-offsets" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G92.3' - set the G92 offset to the values saved in parameters 5211 to 5219</p></li>
</ul>
<p>You can set axis offsets in one program and use the same offsets in another program. Program 'G92'
in the first program. This will set parameters 5211 to 5219. Do not use 'G92.1' in the remainder of
the first program. The parameter values will be saved when the first program exits and restored when
the second one starts up. Use 'G92.3' near the beginning of the second program. That will restore
the offsets saved in the first program.</p>
</section>
<section id="g93-g94-g95-feed-rate-mode">
<h2>G93, G94, G95: Feed Rate Mode<a class="headerlink" href="#g93-g94-g95-feed-rate-mode" title="Link to this heading"></a></h2>
<ul>
<li><p>'G93' - is Inverse Time Mode. In inverse time feed rate mode, an F word means the move should be
completed in [one divided by the F number] minutes. For example, if the F number is 2.0, the move
should be completed in half a minute.</p>
<dl class="simple">
<dt>When the inverse time feed rate mode is active, an F word must appear on every line which has a</dt><dd><p>G1, G2, or G3 motion, and an F word on a line that does not have G1, G2, or G3 is ignored. Being
in inverse time feed rate mode does not affect G0 (<a class="reference external" href="#gcode:g0">rapid move</a>) motions.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G94' - is Units per Minute Mode. In units per minute feed mode, an F word is interpreted to mean</dt><dd><p>the controlled point should move at a certain number of inches per minute, millimeters per
minute, or degrees per minute, depending upon what length units are being used and which axis or
axes are moving.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>'G95' - is Units per Revolution Mode In units per revolution mode, an F word is interpreted to</dt><dd><p>mean the controlled point should move a certain number of inches per revolution of the spindle,
depending on what length units are being used and which axis or axes are moving.  G95 is not
suitable for threading, for threading use G33 or G76. G95 requires that spindle.N.speed-in to be
connected. The actual spindle to which the feed is synchronised is chosen by the $ parameter</p>
</dd>
</dl>
</li>
</ul>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>Inverse time feed mode is active and a line with G1, G2, or G3 (explicitly or implicitly) does not
have an F word.</p></li>
<li><p>A new feed rate is not specified after switching to G94 or G95</p></li>
</ul>
</section>
<section id="g96-g97-spindle-control-mode">
<h2>G96, G97 Spindle Control Mode<a class="headerlink" href="#g96-g97-spindle-control-mode" title="Link to this heading"></a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G96 &lt;D-&gt; S- &lt;$-&gt; (Constant Surface Speed Mode)
G97 S- &lt;$-&gt; (RPM Mode)
</pre></div>
</div>
<ul>
<li><p>'D' - maximum spindle RPM</p></li>
<li><p>'S' - surface speed</p></li>
<li><p>'$&quot; - the spindle of which the speed will be varied.</p></li>
<li><p>'G96 D- S-' - selects constant surface speed of 'S' feet per minute (if G20 is in effect) or
meters per minute (if G21 is in effect). D- is optional.</p>
<p>When using G96, ensure that X0 in the current coordinate system (including offsets and tool
lengths) is the center of rotation or LinuxCNC will not give the desired ssurface speed. G96 is
not affected by radius or diameter mode.</p>
</li>
</ul>
<p>To achieve CSS mode on selected spindles programme successive G96 commands for each spindle prior to
issuing M3.</p>
<ul class="simple">
<li><p>'G97' selects RPM mode.</p></li>
</ul>
<p>G96 Example Line</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G96 D2500 S250 (set CSS with a max rpm of 2500 and a surface speed of 250)
</pre></div>
</div>
<p><strong>It is an error if:</strong></p>
<ul class="simple">
<li><p>S is not specified with G96</p></li>
<li><p>A feed move is specified in G96 mode while the spindle is not turning</p></li>
</ul>
</section>
<section id="g98-g99-canned-cycle-return-level">
<h2>G98, G99 Canned Cycle Return Level<a class="headerlink" href="#g98-g99-canned-cycle-return-level" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>'G98' - retract to the position that axis was in just before this series of one or more contiguous
canned cycles was started.</p></li>
<li><p>'G99' - retract to the position specified by the R word of the canned cycle.</p></li>
</ul>
<p>Program a 'G98' and the canned cycle will use the Z position prior to the canned cycle as the Z
return position if it is higher than the R value specified in the cycle. If it is lower, the R value
will be used.  The R word has different meanings in absolute distance mode and incremental distance
mode.</p>
<p>G98 Retract to Origin</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>G0 X1 Y2 Z3
G90 G98 G81 X4 Y5 Z-0.6 R1.8 F10
</pre></div>
</div>
<p>The G98 to the second line above means that the return move will be to the value of Z in the first
line since it is higher that the R value specified.</p>
<p>The 'initial' (G98) plane is reset any time cycle motion mode is abandoned, whether explicitly (G80)
or implicitly (any motion code that is not a cycle). Switching among cycle modes (say G81 to G83)
does NOT reset the 'initial' plane. It is possible to switch between G98 and G99 during a series of
cycles.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2024, caigk。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>